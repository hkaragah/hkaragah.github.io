
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ASCE 7 vs. 2800 Standard: Comparing Design Spectral Response Acceleration Parameter (Sa) &#8212; Hossein Karagah, PhD, PE</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-J3171580FP"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-J3171580FP');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-J3171580FP');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'earthquake/asce7_2800_spectrum/asce7_2800_spectrum';</script>
    <link rel="icon" href="../../_static/headshot.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Frequency content of Earthquake" href="../frequency_content/frequency_content.html" />
    <link rel="prev" title="Modal Analysis: 3-DOF System" href="../../structure/structural_dynamics/modal_analysis_basic.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>
<aside class="bd-header-announcement" aria-label="Announcement">
  <div class="bd-header-announcement__content">Hossein Karagah, PhD, PE</div>
</aside>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/headshot.png" class="logo__image only-light" alt="Hossein Karagah, PhD, PE - Home"/>
    <script>document.write(`<img src="../../_static/headshot.png" class="logo__image only-dark" alt="Hossein Karagah, PhD, PE - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Welcome
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Structural Engineering</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../structure/p_delta/cant_col_p_delta.html">P-Delta Analysis: Cantilever Column</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../structure/moment_curvature/steel_w_sec_moment_curvature.html">Moment-Curvature: Steel W-Section</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../structure/concrete/force_moment_interaction/force_moment_interaction.html">P-M Interaction Diagram</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../structure/shear_wall_neutral_axis/rect_shear_wall_neutral_axis.html">Rectangular Concrete Shear Wall Neutral Axis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../structure/opensees/opensees_steel_materials.html">OpenSees Uniaxial Steel Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../structure/structural_dynamics/modal_analysis_basic.html">Modal Analysis: 3-DOF System</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Earthquake Engineering</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">ASCE 7 vs. 2800 Standard: Comparing Design Spectral Response Acceleration Parameter (Sa)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frequency_content/frequency_content.html">Frequency content of Earthquake</a></li>
<li class="toctree-l1"><a class="reference internal" href="../response_spectrum/response_spectrum.html">Earthquake Response Spectrum</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/hkaragah/hkaragah.github.io" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/hkaragah/hkaragah.github.io/issues/new?title=Issue%20on%20page%20%2Fearthquake/asce7_2800_spectrum/asce7_2800_spectrum.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/earthquake/asce7_2800_spectrum/asce7_2800_spectrum.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>ASCE 7 vs. 2800 Standard: Comparing Design Spectral Response Acceleration Parameter (Sa)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#asce-7-2022">ASCE 7 (2022)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#standard-4th-edition">2800 Standard (4th Edition)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#soil-type">Soil Type</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#asce-7-vs-2800-standard">ASCE 7 vs. 2800 Standard</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div style="text-align: right;">
<a target="_blank" href="https://colab.research.google.com/github/hkaragah/hkaragah.github.io/blob/main/earthquake/asce7_2800_spectrum/asce7_2800_spectrum.ipynb">
  <img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/>
</a>
<div style="font-size: 0.8em; color: #555;">By Hossein Karagah</div>
<div style="font-size: 0.8em; color: #555;">© Copyright 2025 GNU GENERAL PUBLIC LICENSE.</div>
</div><section class="tex2jax_ignore mathjax_ignore" id="asce-7-vs-2800-standard-comparing-design-spectral-response-acceleration-parameter-sa">
<h1>ASCE 7 vs. 2800 Standard: Comparing Design Spectral Response Acceleration Parameter (Sa)<a class="headerlink" href="#asce-7-vs-2800-standard-comparing-design-spectral-response-acceleration-parameter-sa" title="Link to this heading">#</a></h1>
<p><strong>Objective:</strong> Comparing the design spectral response acceleration parameter of ASCE 7 and Iran national standard No. 2800.</p>
<a class="reference internal image-reference" href="../../_images/asce7_2800_spectrum_01.png"><img alt="ASCE 7 vs. 2800 Standard" src="../../_images/asce7_2800_spectrum_01.png" style="width: 600px;" />
</a>
<p>Iran’s national standard No. 2800, known as 2800 standard, is the ASCE 7 equivalent code that is used by to determine the seismic force on building structures in Iran. Iran is a region with high seismic activity as it is located at the convergence of the Eurasian and Arabian tectonic plates. Arabian plate is moving northward colliding with the Eurasian plate causing the formation of  famous mountain ranges like  Alborz and Zagros in Iran.</p>
<p>The Unites States has also regions with high seismic activities (e.g., west coast region) which is caused by interactions between the North American Plate and its surrounding plates, such as the Pacific Plate. These interactions created geological features like San Andres Fault and the Cascade volcanoes.</p>
<a class="reference internal image-reference" href="../../_images/asce7_2800_spectrum_02.jpeg"><img alt="tectonic plates" src="../../_images/asce7_2800_spectrum_02.jpeg" style="width: 600px;" />
</a>
<section id="asce-7-2022">
<h2>ASCE 7 (2022)<a class="headerlink" href="#asce-7-2022" title="Link to this heading">#</a></h2>
<p>Regarding the ASCE 7, since the <span class="math notranslate nohighlight">\(S_a\)</span> is location-dependent, we choose <em>San Francisco Internation Airport (SFO)</em> and <em>Los Angeles Internation Airport (LAX)</em> which are both located in high seismic activity region within the United States. Latitude and longitude are used to retreive the seismic parameters from <em>ASCE Hazard Tools</em>. The information for the selected locations are</p>
<div style="text-align: center">
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p>Loc.</p></th>
<th class="head text-center"><p>Lat.</p></th>
<th class="head text-center"><p>Long.</p></th>
<th class="head text-center"><p>Soil</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>SFO</p></td>
<td class="text-center"><p>37.62</p></td>
<td class="text-center"><p>-122.58</p></td>
<td class="text-center"><p>Type E</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>LAX</p></td>
<td class="text-center"><p>33.94</p></td>
<td class="text-center"><p>-118.40</p></td>
<td class="text-center"><p>Type D</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The design spectral response acceleration parameter, <span class="math notranslate nohighlight">\(S_a\)</span>, in ASCE 7, Section 11.4.5.2 is defined for 5%-damped system as</p>
<div class="math notranslate nohighlight">
\[\begin{split}
S_a=
\begin{cases}
S_{DS}\left(0.4+0.6\frac{T}{T_0}\right) &amp;T&lt;T_0\\
\\
S_{DS} &amp;T_0\ge T\le T_S\\
\\
\frac{S_{D1}}{T} &amp;T_S&lt;T\le T_L\\
\\
\frac{S_{D1}T_L}{T^2} &amp;T&gt;T_L\\
\end{cases}
\end{split}\]</div>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(S_{DS}=\tfrac{2}{3}S_{MS}\)</span> is design 5%-damped spectral response acceleration parameter at short periods</p></li>
<li><p><span class="math notranslate nohighlight">\(S_{MS}\)</span> are risk-targeted maximum considered earthquake (<span class="math notranslate nohighlight">\(MCE_R\)</span>) 5%-damped spectral response acceleration parameter at short periods adjusted for site class effects</p></li>
<li><p><span class="math notranslate nohighlight">\(S_{D1}=\tfrac{2}{3}S_{M1}\)</span> is design 5%-damped spectral response acceleration parameter at a period of 1 second</p></li>
<li><p><span class="math notranslate nohighlight">\(S_{M1}\)</span> are risk-targeted maximum considered earthquake (<span class="math notranslate nohighlight">\(MCE_R\)</span>) 5%-damped spectral response acceleration parameter at a period of 1 second adjusted for site class effects</p></li>
<li><p><span class="math notranslate nohighlight">\(T_0=0.2\frac{S_{D1}}{S_{DS}}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(T_S=\frac{S_{D1}}{S_{DS}}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(T_L\)</span> is long-period transition period</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The ASCE 7 seismic parameters can be obtained directly from USGS Seismic Design Geodatabase for a specific site class or from <a class="reference external" href="https://ascehazardtool.org/">ASCE Hazard Tool</a>. The <span class="math notranslate nohighlight">\(S_{MS}\)</span> and <span class="math notranslate nohighlight">\(S_{M1}\)</span> map of the United States are shown in the top and bottom figures below, respectively.</p>
</div>
<a class="reference internal image-reference" href="../../_images/asce7_2800_spectrum_04.png"><img alt="ASCE 7, S_MS Map" src="../../_images/asce7_2800_spectrum_04.png" style="width: 600px;" />
</a>
<a class="reference internal image-reference" href="../../_images/asce7_2800_spectrum_04.png"><img alt="ASCE 7, S_M1 Map" src="../../_images/asce7_2800_spectrum_04.png" style="width: 600px;" />
</a>
<p>Before generating the design spectral response acceleration, let’s define a few helper classes and functions as follows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">LOC</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">lat</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">long</span><span class="p">:</span> <span class="nb">float</span>
    
    
<span class="n">SFO</span> <span class="o">=</span> <span class="n">LOC</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;San Francisco Airport&#39;</span><span class="p">,</span> <span class="n">lat</span><span class="o">=</span><span class="mf">37.62</span><span class="p">,</span> <span class="n">long</span><span class="o">=-</span><span class="mf">122.38</span><span class="p">)</span>
<span class="n">LAX</span> <span class="o">=</span> <span class="n">LOC</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Los Angeles Airport&#39;</span><span class="p">,</span> <span class="n">lat</span><span class="o">=</span><span class="mf">33.94</span><span class="p">,</span> <span class="n">long</span><span class="o">=-</span><span class="mf">118.40</span><span class="p">)</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SeismicParams</span><span class="p">:</span>
    <span class="n">location</span><span class="p">:</span> <span class="n">LOC</span>
    <span class="n">soil_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">s_s</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">s_1</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">s_ms</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">s_m1</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">t_l</span><span class="p">:</span> <span class="nb">float</span>
    
    
<span class="n">sfo_params</span> <span class="o">=</span> <span class="n">SeismicParams</span><span class="p">(</span>
    <span class="n">location</span><span class="o">=</span><span class="n">SFO</span><span class="p">,</span>
    <span class="n">soil_type</span><span class="o">=</span><span class="s1">&#39;E&#39;</span><span class="p">,</span>
    <span class="n">s_s</span><span class="o">=</span><span class="mf">2.32</span><span class="p">,</span>
    <span class="n">s_1</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
    <span class="n">s_ms</span><span class="o">=</span><span class="mf">1.94</span><span class="p">,</span>
    <span class="n">s_m1</span><span class="o">=</span><span class="mf">4.46</span><span class="p">,</span>
    <span class="n">t_l</span><span class="o">=</span><span class="mf">12.0</span>
<span class="p">)</span>

<span class="n">lax_params</span> <span class="o">=</span> <span class="n">SeismicParams</span><span class="p">(</span>
    <span class="n">location</span><span class="o">=</span><span class="n">LAX</span><span class="p">,</span>
    <span class="n">soil_type</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span>
    <span class="n">s_s</span><span class="o">=</span><span class="mf">2.08</span><span class="p">,</span>
    <span class="n">s_1</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
    <span class="n">s_ms</span><span class="o">=</span><span class="mf">2.16</span><span class="p">,</span>
    <span class="n">s_m1</span><span class="o">=</span><span class="mf">1.67</span><span class="p">,</span>
    <span class="n">t_l</span><span class="o">=</span><span class="mi">8</span>
<span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">get_design_spectral_response_acc</span><span class="p">(</span><span class="n">periods</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">SeismicParams</span><span class="p">):</span>
    <span class="n">s_ds</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">params</span><span class="o">.</span><span class="n">s_ms</span>
    <span class="n">s_d1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">params</span><span class="o">.</span><span class="n">s_m1</span>
    <span class="n">t_0</span> <span class="o">=</span> <span class="mf">0.2</span> <span class="o">*</span> <span class="n">s_d1</span> <span class="o">/</span> <span class="n">s_ds</span>
    <span class="n">t_s</span> <span class="o">=</span> <span class="n">s_d1</span> <span class="o">/</span> <span class="n">s_ds</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">periods</span> <span class="o">&lt;</span> <span class="n">t_0</span><span class="p">,</span> <span class="n">s_ds</span> <span class="o">*</span> <span class="p">(</span><span class="mf">0.4</span> <span class="o">+</span> <span class="mf">0.6</span> <span class="o">*</span> <span class="p">(</span><span class="n">periods</span> <span class="o">/</span> <span class="n">t_0</span><span class="p">)),</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">periods</span> <span class="o">&gt;=</span> <span class="n">t_0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">periods</span> <span class="o">&lt;=</span> <span class="n">t_s</span><span class="p">),</span> <span class="n">s_ds</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">periods</span> <span class="o">&gt;</span> <span class="n">t_s</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">periods</span> <span class="o">&lt;=</span> <span class="n">params</span><span class="o">.</span><span class="n">t_l</span><span class="p">),</span> <span class="n">s_d1</span> <span class="o">/</span> <span class="n">periods</span><span class="p">,</span> <span class="n">s_d1</span> <span class="o">*</span> <span class="n">params</span><span class="o">.</span><span class="n">t_l</span> <span class="o">/</span> <span class="n">periods</span><span class="o">**</span><span class="mi">2</span><span class="p">)))</span>
    
</pre></div>
</div>
</div>
</div>
<p>Now, let plot the design spectral response acceleration for SFO anbd LAX.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">periods</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">sfo_params</span><span class="o">.</span><span class="n">t_l</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">sa_sfo</span> <span class="o">=</span> <span class="n">get_design_spectral_response_acc</span><span class="p">(</span><span class="n">periods</span><span class="p">,</span> <span class="n">sfo_params</span><span class="p">)</span>
<span class="n">sa_lax</span> <span class="o">=</span> <span class="n">get_design_spectral_response_acc</span><span class="p">(</span><span class="n">periods</span><span class="p">,</span> <span class="n">lax_params</span><span class="p">)</span>
<span class="n">sa</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ASCE7-LAX&quot;</span><span class="p">:</span> <span class="n">sa_lax</span><span class="p">,</span> <span class="s2">&quot;ASCE7-SFO&quot;</span><span class="p">:</span> <span class="n">sa_sfo</span><span class="p">}</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">periods</span><span class="p">,</span> <span class="n">sa</span><span class="p">[</span><span class="s2">&quot;ASCE7-SFO&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;SFO&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">periods</span><span class="p">,</span> <span class="n">sa</span><span class="p">[</span><span class="s2">&quot;ASCE7-LAX&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;LAX&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Design Spectral Response Acceleration&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Period (s)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Spectral Acceleration (g)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/189086b73abbc5734b2e3b7958525c26ec81fb13d322d0093a2c085d01233392.png" src="../../_images/189086b73abbc5734b2e3b7958525c26ec81fb13d322d0093a2c085d01233392.png" />
</div>
</div>
</section>
<section id="standard-4th-edition">
<h2>2800 Standard (4th Edition)<a class="headerlink" href="#standard-4th-edition" title="Link to this heading">#</a></h2>
<p>Design earthquake per 2800 standard is defined as the earthquake with 10% probability of exceedance in 50 years, corresponding to return period of 475 years. Unline ASCE 7-22 seismic hazard which is based on uniform risk (ASCE7-22: C11.4), the seismic hazard parameters in 2800 Standard are based on uniform hazard. See the following references for detailed discussion.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://nhess.copernicus.org/articles/20/2889/2020/">Farahani, S. and Behnam, B. and Tahershamsi, A. (2020), Macrozonation of seismic transient and permanent ground deformation of Iran, Natural Hazards and Earth System Sciences, 20(11), pp. 2889–2903.</a></p></li>
<li><p><a class="reference external" href="https://doi.org/10.1007/s10518-019-00625-0">Zaman, M., Ghayamghamian, M.R. Risk-adjusted design basis earthquake: a case study of Tehran megacity. Bull Earthquake Eng 17, 3777–3799 (2019).</a></p></li>
<li><p><a class="reference external" href="https://iitk.ac.in/nicee/wcee/article/WCEE2012_3018.pdf">Hamzehloo et al. (2012), Seismic Hazard Maps of Iran, 15th World Conference on Earthquake Engineering (15 WCEE), Lisbon, Portugal.</a></p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/asce7_2800_spectrum_05.png"><img alt="Define load pattern" src="../../_images/asce7_2800_spectrum_05.png" style="width: 600px;" />
</a>
<p>According to 2800, section 3.3.1.1, the equivalent lateral force (ELF) is defined as</p>
<div class="math notranslate nohighlight">
\[V_u = \frac{ABI}{R_u}W\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(A\)</span> is the ratio of the base design acceleration to gravitational acceleration</p></li>
<li><p><span class="math notranslate nohighlight">\(B\)</span> is the spectral response coefficient</p></li>
<li><p><span class="math notranslate nohighlight">\(I\)</span> is the importance factor</p></li>
<li><p><span class="math notranslate nohighlight">\(R_u\)</span> is the response modification coefficient</p></li>
</ul>
<p>According to 2800, table 2.1, Iran is divided into four regions with different seismicity and A value as follows:</p>
<ul class="simple">
<li><p>Extremely High: A=0.35</p></li>
<li><p>High: A=0.30</p></li>
<li><p>Moderate: A=0.25</p></li>
<li><p>Low: A=0.20</p></li>
</ul>
<p>The 5%-damped spectral response coefficient, <span class="math notranslate nohighlight">\(B\)</span>, is defined as (2800, section 2.3)</p>
<div class="math notranslate nohighlight">
\[B=B_1N\]</div>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(B_1\)</span> is the spectral shape coefficient defined as</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
B_1 = 
\begin{cases}
S_0+(S-S_0+1)\frac{T}{T_0} &amp;0&lt;T&lt;T_0\\
S+1 &amp;T_0&lt;T&lt;T_s\\
(S+1)\frac{T_s}{T} &amp;T&gt;T_s
\end{cases}
\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(T\)</span> is the fundamental period of the structure in seconds. <span class="math notranslate nohighlight">\(T_0\)</span>, <span class="math notranslate nohighlight">\(T_s\)</span>, <span class="math notranslate nohighlight">\(S\)</span>, and <span class="math notranslate nohighlight">\(S_0\)</span> are seismic parameters depending on the soild type and seismicity as defined in the following table (2800, table 2.2).</p>
<p>For low and moderate seismicity:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p>Soil Type</p></th>
<th class="head text-center"><p><span class="math notranslate nohighlight">\(T_0\)</span></p></th>
<th class="head text-center"><p><span class="math notranslate nohighlight">\(T_s\)</span></p></th>
<th class="head text-center"><p><span class="math notranslate nohighlight">\(S\)</span></p></th>
<th class="head text-center"><p><span class="math notranslate nohighlight">\(S_0\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>I</p></td>
<td class="text-center"><p>0.10</p></td>
<td class="text-center"><p>0.40</p></td>
<td class="text-center"><p>1.50</p></td>
<td class="text-center"><p>1.0</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>II</p></td>
<td class="text-center"><p>0.10</p></td>
<td class="text-center"><p>0.50</p></td>
<td class="text-center"><p>1.50</p></td>
<td class="text-center"><p>1.0</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>III</p></td>
<td class="text-center"><p>0.15</p></td>
<td class="text-center"><p>0.70</p></td>
<td class="text-center"><p>1.75</p></td>
<td class="text-center"><p>1.1</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>IV</p></td>
<td class="text-center"><p>0.15</p></td>
<td class="text-center"><p>1.00</p></td>
<td class="text-center"><p>2.25</p></td>
<td class="text-center"><p>1.3</p></td>
</tr>
</tbody>
</table>
</div>
<p>For high and extremely high seismicity:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p>Soil Type</p></th>
<th class="head text-center"><p><span class="math notranslate nohighlight">\(T_0\)</span></p></th>
<th class="head text-center"><p><span class="math notranslate nohighlight">\(T_s\)</span></p></th>
<th class="head text-center"><p><span class="math notranslate nohighlight">\(S\)</span></p></th>
<th class="head text-center"><p><span class="math notranslate nohighlight">\(S_0\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>I</p></td>
<td class="text-center"><p>0.10</p></td>
<td class="text-center"><p>0.40</p></td>
<td class="text-center"><p>1.50</p></td>
<td class="text-center"><p>1.0</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>II</p></td>
<td class="text-center"><p>0.10</p></td>
<td class="text-center"><p>0.50</p></td>
<td class="text-center"><p>1.50</p></td>
<td class="text-center"><p>1.0</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>III</p></td>
<td class="text-center"><p>0.15</p></td>
<td class="text-center"><p>0.70</p></td>
<td class="text-center"><p>1.75</p></td>
<td class="text-center"><p>1.1</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>IV</p></td>
<td class="text-center"><p>0.15</p></td>
<td class="text-center"><p>1.00</p></td>
<td class="text-center"><p>1.75</p></td>
<td class="text-center"><p>1.1</p></td>
</tr>
</tbody>
</table>
</div>
<p>The <span class="math notranslate nohighlight">\(N\)</span> is spectral modification factor which is defined as</p>
<div class="math notranslate nohighlight">
\[\begin{split}
N=
\begin{cases}
1 &amp;T&lt;T_s\\
\frac{0.4}{4-T_s}(T-T_s)+1 &amp;T_s&lt;T&lt;4 sec\\
1.4 &amp;T&gt;4 sec
\end{cases}
\end{split}\]</div>
<p>for low and moderate seismicity, and</p>
<div class="math notranslate nohighlight">
\[\begin{split}
N=
\begin{cases}
1 &amp;T&lt;T_s\\
\frac{0.7}{4-T_s}(T-T_s)+1 &amp;T_s&lt;T&lt;4 sec\\
1.7 &amp;T&gt;4 sec
\end{cases}
\end{split}\]</div>
<p>for high and extremely high seismicity.</p>
<section id="soil-type">
<h3>Soil Type<a class="headerlink" href="#soil-type" title="Link to this heading">#</a></h3>
<p>The soil classification is 2800 standard is based on the shear wave velocity within the top 30 m (100 ft) of soil, <span class="math notranslate nohighlight">\(\bar{v_s}\)</span> (2800, table 2.3). There are four soil types:</p>
<ul class="simple">
<li><p>Soil Type I  (<span class="math notranslate nohighlight">\(\bar{v_s} &gt; 750 m/s\)</span>)</p></li>
<li><p>Soil Type II  (<span class="math notranslate nohighlight">\(375 m/s &lt; \bar{v_s} &lt; 750 m/s\)</span>)</p></li>
<li><p>Soil Type III  (<span class="math notranslate nohighlight">\(175 m/s &lt; \bar{v_s} &lt; 375 m/s\)</span>)</p></li>
<li><p>Soil Type IV  (<span class="math notranslate nohighlight">\(\bar{v_s} &lt; 175 m/s\)</span>)</p></li>
</ul>
<p>To better understand how 2800’s soil types are compared with ASCE 7’s soil types see the following figure. It shows ASCE Type <strong>D</strong> and <strong>E</strong> are equivalent to 2800 Type <strong>III</strong> and <strong>IV</strong>, respectively.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.colors</span><span class="w"> </span><span class="kn">import</span> <span class="n">Normalize</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">colormaps</span>

<span class="c1"># Conversion functions</span>
<span class="k">def</span><span class="w"> </span><span class="nf">ft_to_m</span><span class="p">(</span><span class="n">ft</span><span class="p">):</span> <span class="k">return</span> <span class="n">ft</span> <span class="o">/</span> <span class="mf">3.28084</span>
<span class="k">def</span><span class="w"> </span><span class="nf">m_to_ft</span><span class="p">(</span><span class="n">m</span><span class="p">):</span> <span class="k">return</span> <span class="n">m</span> <span class="o">*</span> <span class="mf">3.28084</span>

<span class="c1"># Classification 1: ft/s</span>
<span class="n">soil_class_asce7</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;A&quot;</span><span class="p">:</span>   <span class="p">(</span><span class="mi">5000</span><span class="p">,</span> <span class="mi">6000</span><span class="p">),</span>
    <span class="s2">&quot;B&quot;</span><span class="p">:</span>   <span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">5000</span><span class="p">),</span>
    <span class="s2">&quot;BC&quot;</span><span class="p">:</span>  <span class="p">(</span><span class="mi">2100</span><span class="p">,</span> <span class="mi">3000</span><span class="p">),</span>
    <span class="s2">&quot;C&quot;</span><span class="p">:</span>   <span class="p">(</span><span class="mi">1450</span><span class="p">,</span> <span class="mi">2100</span><span class="p">),</span>
    <span class="s2">&quot;CD&quot;</span><span class="p">:</span>  <span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1450</span><span class="p">),</span>
    <span class="s2">&quot;D&quot;</span><span class="p">:</span>   <span class="p">(</span><span class="mi">700</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>
    <span class="s2">&quot;DE&quot;</span><span class="p">:</span>  <span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">700</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># Classification 2: m/s</span>
<span class="n">soil_class_2800</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;I&quot;</span><span class="p">:</span>   <span class="p">(</span><span class="mi">750</span><span class="p">,</span> <span class="mi">2000</span><span class="p">),</span>
    <span class="s2">&quot;II&quot;</span><span class="p">:</span>  <span class="p">(</span><span class="mi">375</span><span class="p">,</span> <span class="mi">750</span><span class="p">),</span>
    <span class="s2">&quot;III&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">175</span><span class="p">,</span> <span class="mi">375</span><span class="p">),</span>
    <span class="s2">&quot;IV&quot;</span><span class="p">:</span>  <span class="p">(</span><span class="mi">152</span><span class="p">,</span> <span class="mi">175</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">x_min_ft</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">x_max_ft</span> <span class="o">=</span> <span class="mi">6000</span>
<span class="n">res</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">x_vals_ft</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">x_min_ft</span><span class="p">,</span> <span class="n">x_max_ft</span><span class="p">,</span> <span class="n">res</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Create gradient mask</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_gradient_mask</span><span class="p">(</span><span class="n">class_ranges</span><span class="p">,</span> <span class="n">is_m_per_s</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">grad</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="n">res</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="p">(</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">class_ranges</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">is_m_per_s</span><span class="p">:</span>
            <span class="n">vmin</span> <span class="o">=</span> <span class="n">m_to_ft</span><span class="p">(</span><span class="n">vmin</span><span class="p">)</span>
            <span class="n">vmax</span> <span class="o">=</span> <span class="n">m_to_ft</span><span class="p">(</span><span class="n">vmax</span><span class="p">)</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">x_vals_ft</span> <span class="o">&gt;=</span> <span class="n">vmin</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">x_vals_ft</span> <span class="o">&lt;</span> <span class="n">vmax</span><span class="p">)</span>
        <span class="n">grad</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">mask</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">/</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">class_ranges</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">grad</span>

<span class="n">gradient1</span> <span class="o">=</span> <span class="n">get_gradient_mask</span><span class="p">(</span><span class="n">soil_class_asce7</span><span class="p">)</span>
<span class="n">gradient2</span> <span class="o">=</span> <span class="n">get_gradient_mask</span><span class="p">(</span><span class="n">soil_class_2800</span><span class="p">,</span> <span class="n">is_m_per_s</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Helper for readable text color</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_text_color</span><span class="p">(</span><span class="n">cmap</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
    <span class="n">rgb</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cmap</span><span class="p">(</span><span class="n">norm</span><span class="p">(</span><span class="n">val</span><span class="p">)))[:</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">brightness</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">rgb</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.299</span><span class="p">,</span> <span class="mf">0.587</span><span class="p">,</span> <span class="mf">0.114</span><span class="p">])</span>  <span class="c1"># luminance formula</span>
    <span class="k">return</span> <span class="s1">&#39;black&#39;</span> <span class="k">if</span> <span class="n">brightness</span> <span class="o">&gt;</span> <span class="mf">0.6</span> <span class="k">else</span> <span class="s1">&#39;white&#39;</span>

<span class="c1"># Plot setup</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">secondary_xaxis</span><span class="p">(</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">functions</span><span class="o">=</span><span class="p">(</span><span class="n">ft_to_m</span><span class="p">,</span> <span class="n">m_to_ft</span><span class="p">))</span>

<span class="n">cmap1</span> <span class="o">=</span> <span class="n">colormaps</span><span class="p">[</span><span class="s1">&#39;viridis&#39;</span><span class="p">]</span>
<span class="n">norm1</span> <span class="o">=</span> <span class="n">Normalize</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">gradient1</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="n">x_min_ft</span><span class="p">,</span> <span class="n">x_max_ft</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.45</span><span class="p">],</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap1</span><span class="p">)</span>

<span class="n">cmap2</span> <span class="o">=</span> <span class="n">colormaps</span><span class="p">[</span><span class="s1">&#39;plasma&#39;</span><span class="p">]</span>
<span class="n">norm2</span> <span class="o">=</span> <span class="n">Normalize</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">gradient2</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="n">x_min_ft</span><span class="p">,</span> <span class="n">x_max_ft</span><span class="p">,</span> <span class="mf">0.55</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">],</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap2</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">label_classes</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">class_dict</span><span class="p">,</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">cmap</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">is_m_per_s</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="p">(</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">class_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">is_m_per_s</span><span class="p">:</span>
            <span class="n">vmin</span> <span class="o">=</span> <span class="n">m_to_ft</span><span class="p">(</span><span class="n">vmin</span><span class="p">)</span>
            <span class="n">vmax</span> <span class="o">=</span> <span class="n">m_to_ft</span><span class="p">(</span><span class="n">vmax</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmin</span> <span class="o">+</span> <span class="n">vmax</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">i</span> <span class="o">/</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">class_dict</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">get_text_color</span><span class="p">(</span><span class="n">cmap</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="n">label_classes</span><span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">soil_class_asce7</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="n">cmap1</span><span class="p">,</span> <span class="n">norm1</span><span class="p">)</span>
<span class="n">label_classes</span><span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">soil_class_2800</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="n">cmap2</span><span class="p">,</span> <span class="n">norm2</span><span class="p">,</span> <span class="n">is_m_per_s</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">x_min_ft</span><span class="p">,</span> <span class="n">x_max_ft</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">])</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">([</span><span class="s2">&quot;ASCE 7 (US) (ft/s)&quot;</span><span class="p">,</span> <span class="s2">&quot;2800 (Iran) (m/s)&quot;</span><span class="p">])</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Shear Wave Velocity (ft/s)&quot;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Shear Wave Velocity (m/s)&quot;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/086aed2106a06c508baef70e1d7e3bb535e53f7a874de9349a330e60d80e101a.png" src="../../_images/086aed2106a06c508baef70e1d7e3bb535e53f7a874de9349a330e60d80e101a.png" />
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In addition to shear wave velocity within the top 100 ft (30 m) of the soil (<span class="math notranslate nohighlight">\(\bar{v_s}\)</span>), ASCE 7 uses other criteria to define soil class E and F (ASCE 7-22, section 20.2.1 and 20.2.2)</p>
<ul class="simple">
<li><p>Soil vulnerabilities (e.g., liquifaction)</p></li>
<li><p>Organic clay content of the soil</p></li>
<li><p>High plasticity clay content of the soil</p></li>
</ul>
</div>
<p>Let’s define some utility functions to facilitate generating the 2800’s design spectral response accelerations. Then, plot the acceleration for different soil types and seismicities.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_t0_ts</span><span class="p">(</span><span class="n">soil_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Return T0 and Ts for different soil types &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">soil_type</span> <span class="o">==</span> <span class="s2">&quot;I&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.40</span> <span class="c1"># T0, Ts</span>
    <span class="k">elif</span> <span class="n">soil_type</span> <span class="o">==</span> <span class="s2">&quot;II&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.50</span>
    <span class="k">elif</span> <span class="n">soil_type</span> <span class="o">==</span> <span class="s2">&quot;III&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.70</span>
    <span class="k">elif</span> <span class="n">soil_type</span> <span class="o">==</span> <span class="s2">&quot;IV&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">1.00</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid soil type&quot;</span><span class="p">)</span>
    
    
<span class="k">def</span><span class="w"> </span><span class="nf">get_s_s0</span><span class="p">(</span><span class="n">soil_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">acc_coeff</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">soil_type</span> <span class="o">==</span> <span class="s2">&quot;I&quot;</span> <span class="ow">or</span> <span class="n">soil_type</span> <span class="o">==</span> <span class="s2">&quot;II&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.0</span> <span class="c1"># S, S0</span>
    <span class="k">elif</span> <span class="n">soil_type</span> <span class="o">==</span> <span class="s2">&quot;III&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="mf">1.75</span><span class="p">,</span> <span class="mf">1.1</span>
    <span class="k">elif</span> <span class="n">soil_type</span> <span class="o">==</span> <span class="s2">&quot;IV&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">acc_coeff</span> <span class="o">&lt;</span> <span class="mf">0.30</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">2.25</span><span class="p">,</span> <span class="mf">1.30</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">1.75</span><span class="p">,</span> <span class="mf">1.10</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid soil type&quot;</span><span class="p">)</span>
       
    
<span class="k">def</span><span class="w"> </span><span class="nf">get_n</span><span class="p">(</span><span class="n">periods</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">soil_type</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">acc_coeff</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">ts</span> <span class="o">=</span> <span class="n">get_t0_ts</span><span class="p">(</span><span class="n">soil_type</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">acc_coeff</span> <span class="o">&lt;</span> <span class="mf">0.30</span><span class="p">:</span> <span class="c1"># moderate and low seismicity</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">periods</span> <span class="o">&lt;</span> <span class="n">ts</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">periods</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">,</span> <span class="mf">0.4</span><span class="o">*</span><span class="p">(</span><span class="n">periods</span> <span class="o">-</span> <span class="n">ts</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">4</span> <span class="o">-</span> <span class="n">ts</span><span class="p">)</span> <span class="o">+</span> <span class="mf">1.0</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span> <span class="c1"># high and extremely high seismicity</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">periods</span> <span class="o">&lt;</span> <span class="n">ts</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">periods</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">1.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="o">*</span><span class="p">(</span><span class="n">periods</span> <span class="o">-</span> <span class="n">ts</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">4</span> <span class="o">-</span> <span class="n">ts</span><span class="p">)</span> <span class="o">+</span> <span class="mf">1.0</span><span class="p">))</span>
    

<span class="k">def</span><span class="w"> </span><span class="nf">get_b1</span><span class="p">(</span><span class="n">periods</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">soil_type</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">acc_coeff</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="n">t0</span><span class="p">,</span> <span class="n">ts</span> <span class="o">=</span> <span class="n">get_t0_ts</span><span class="p">(</span><span class="n">soil_type</span><span class="p">)</span>
    <span class="n">s</span><span class="p">,</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">get_s_s0</span><span class="p">(</span><span class="n">soil_type</span><span class="p">,</span> <span class="n">acc_coeff</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">periods</span> <span class="o">&lt;</span> <span class="n">t0</span><span class="p">,</span> <span class="n">s0</span> <span class="o">+</span> <span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="n">s0</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">periods</span> <span class="o">/</span> <span class="n">t0</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">periods</span> <span class="o">&gt;</span> <span class="n">ts</span><span class="p">,</span> <span class="p">(</span><span class="n">s</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">ts</span> <span class="o">/</span> <span class="n">periods</span><span class="p">),</span> <span class="n">s</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>



<span class="k">def</span><span class="w"> </span><span class="nf">get_b</span><span class="p">(</span><span class="n">periods</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">soil_type</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">acc_coeff</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">get_n</span><span class="p">(</span><span class="n">periods</span><span class="p">,</span> <span class="n">soil_type</span><span class="p">,</span> <span class="n">acc_coeff</span><span class="p">)</span>
    <span class="n">b1</span> <span class="o">=</span> <span class="n">get_b1</span><span class="p">(</span><span class="n">periods</span><span class="p">,</span> <span class="n">soil_type</span><span class="p">,</span> <span class="n">acc_coeff</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">b1</span> <span class="o">*</span> <span class="n">n</span>


<span class="k">def</span><span class="w"> </span><span class="nf">spectrum_ceoff</span><span class="p">(</span><span class="n">periods</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">soil_type</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">acc_coeff</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">get_b</span><span class="p">(</span><span class="n">periods</span><span class="p">,</span> <span class="n">soil_type</span><span class="p">,</span> <span class="n">acc_coeff</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">acc_coeff</span> <span class="o">*</span> <span class="n">b</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">periods</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">sfo_params</span><span class="o">.</span><span class="n">t_l</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">sa_iran</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">soil_type</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;II&quot;</span><span class="p">,</span> <span class="s2">&quot;III&quot;</span><span class="p">,</span> <span class="s2">&quot;IV&quot;</span><span class="p">]:</span>
    <span class="n">sa_iran</span><span class="p">[</span><span class="n">soil_type</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">acc_coeff</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.30</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">]:</span>
        <span class="n">sa_iran</span><span class="p">[</span><span class="n">soil_type</span><span class="p">][</span><span class="n">acc_coeff</span><span class="p">]</span> <span class="o">=</span> <span class="n">spectrum_ceoff</span><span class="p">(</span><span class="n">periods</span><span class="p">,</span> <span class="n">soil_type</span><span class="p">,</span> <span class="n">acc_coeff</span><span class="p">)</span>

        
<span class="n">soil_types</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;II&quot;</span><span class="p">,</span> <span class="s2">&quot;III&quot;</span><span class="p">,</span> <span class="s2">&quot;IV&quot;</span><span class="p">]</span>
<span class="n">acc_coeffs</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.30</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">]</span>
<span class="n">seismicity</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Low&quot;</span><span class="p">,</span> <span class="s2">&quot;Moderate&quot;</span><span class="p">,</span> <span class="s2">&quot;High&quot;</span><span class="p">,</span> <span class="s2">&quot;XHigh &quot;</span><span class="p">]</span>
<span class="n">seismicity_map</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">acc_coeffs</span><span class="p">,</span> <span class="n">seismicity</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">soil_types</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">acc_coeffs</span><span class="p">))]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">soil_type</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">soil_types</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">acc_coeff</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">acc_coeffs</span><span class="p">):</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">periods</span><span class="p">,</span> <span class="n">sa_iran</span><span class="p">[</span><span class="n">soil_type</span><span class="p">][</span><span class="n">acc_coeff</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">seismicity_map</span><span class="p">[</span><span class="n">acc_coeff</span><span class="p">]</span><span class="si">}</span><span class="s1"> (A = </span><span class="si">{</span><span class="n">acc_coeff</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Period (s)&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Spectral Acceleration (g)&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">))</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Seismicity Level (Soil Type: </span><span class="si">{</span><span class="n">soil_type</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Design Spectral Response Acceleration, A×B</span><span class="se">\n</span><span class="s1">(Iranian 2800 Standard)&#39;</span><span class="p">)</span>    
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>   
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/38e03253b1bfcf8d87d12cb32e97b155c2d06f2e5c0416d4a7ec87d16e81dd14.png" src="../../_images/38e03253b1bfcf8d87d12cb32e97b155c2d06f2e5c0416d4a7ec87d16e81dd14.png" />
</div>
</div>
</section>
</section>
<section id="asce-7-vs-2800-standard">
<h2>ASCE 7 vs. 2800 Standard<a class="headerlink" href="#asce-7-vs-2800-standard" title="Link to this heading">#</a></h2>
<p>To have the soil types matched, the following comparisons are conducted:</p>
<ul class="simple">
<li><p>San Francisco Internation Airport (SFO) vs. 2800’s spectral response acceleration for soil type IV</p></li>
<li><p>Los Angeles Internation Airport (LAX) vs. 2800’s spectral response acceleration for soil type III</p></li>
</ul>
<p>As shown below, the design spectral response acceleration, <span class="math notranslate nohighlight">\(S_a\)</span>, at LAX is more than 40% greater than the <span class="math notranslate nohighlight">\(S_a\)</span> of 2800 Standard for extremely high seismic region (i.e., <code class="docutils literal notranslate"><span class="pre">XHIGH</span></code>) for short periods. However, for the longer priods (&gt; 4 sec), the magnitudes of the two are comparable.</p>
<p>For SFO, the design spectral response acceleration, <span class="math notranslate nohighlight">\(S_a\)</span>, is about 30% higher than its 2800 counterpart for <code class="docutils literal notranslate"><span class="pre">XHIGH</span></code> region for short periods. The <span class="math notranslate nohighlight">\(S_a\)</span> for SFO stays greater the 2800’s design spectral response accelerations for the longer periods however the difference reduces as the period increases.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sa</span><span class="p">[</span><span class="s2">&quot;2800 Type III&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sa_iran</span><span class="p">[</span><span class="s2">&quot;III&quot;</span><span class="p">]</span>
<span class="n">sa</span><span class="p">[</span><span class="s2">&quot;2800 Type IV&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sa_iran</span><span class="p">[</span><span class="s2">&quot;IV&quot;</span><span class="p">]</span>
<span class="n">pairs</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;ASCE7-LAX&quot;</span><span class="p">,</span> <span class="s2">&quot;2800 Type III&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;ASCE7-SFO&quot;</span><span class="p">,</span> <span class="s2">&quot;2800 Type IV&quot;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">acc_coeffs</span><span class="p">))]</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">pair</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pairs</span><span class="p">):</span>
    <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">periods</span><span class="p">,</span> <span class="n">sa</span><span class="p">[</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
    <span class="n">t</span> <span class="o">=</span> <span class="mi">2</span> <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">0</span> <span class="k">else</span> <span class="mi">4</span>
    <span class="n">idx_closest</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">periods</span> <span class="o">-</span> <span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">argmin</span><span class="p">()</span>
    <span class="n">period_closest</span> <span class="o">=</span> <span class="n">periods</span><span class="p">[</span><span class="n">idx_closest</span><span class="p">]</span>
    <span class="n">sa_closest</span> <span class="o">=</span> <span class="n">sa</span><span class="p">[</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">idx_closest</span><span class="p">]</span>
    <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">period_closest</span><span class="p">,</span> <span class="n">sa_closest</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="n">period_closest</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sa_closest</span> <span class="o">+</span> <span class="mf">0.1</span><span class="p">),</span> <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s2">&quot;fancy,head_length=.5,head_width=.5,tail_width=.2&quot;</span><span class="p">,</span> <span class="n">connectionstyle</span><span class="o">=</span><span class="s2">&quot;arc3,rad=0.2&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">acc_coeff</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">acc_coeffs</span><span class="p">):</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">periods</span><span class="p">,</span> <span class="n">sa</span><span class="p">[</span><span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]][</span><span class="n">acc_coeff</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">seismicity_map</span><span class="p">[</span><span class="n">acc_coeff</span><span class="p">]</span><span class="si">}</span><span class="s1"> (A = </span><span class="si">{</span><span class="n">acc_coeff</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">periods</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Period (s)&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Spectral Acceleration (g)&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Seismicity Level (2800)&quot;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> vs. </span><span class="si">{</span><span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/8e1d15687939902b71118826bd6d0bce466bd8bba847c22358116f4eeedaa364.png" src="../../_images/8e1d15687939902b71118826bd6d0bce466bd8bba847c22358116f4eeedaa364.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./earthquake\asce7_2800_spectrum"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../../structure/structural_dynamics/modal_analysis_basic.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Modal Analysis: 3-DOF System</p>
      </div>
    </a>
    <a class="right-next"
       href="../frequency_content/frequency_content.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Frequency content of Earthquake</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#asce-7-2022">ASCE 7 (2022)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#standard-4th-edition">2800 Standard (4th Edition)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#soil-type">Soil Type</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#asce-7-vs-2800-standard">ASCE 7 vs. 2800 Standard</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Hossein Karagah
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025 GNU GENERAL PUBLIC LICENSE.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>